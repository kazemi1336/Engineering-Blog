@using EnggBlog.Core.Interfaces;
@using EnggBlog.Core.ViewModels;
@using EnggBlog.DataLayer.Entities;

@model Tuple<List<EnggBlog.Core.ViewModels.ShowProductListItemViewModel>, int>

@inject ITemp Temp


@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<!-- page content -->
<form id="formFilter" action="/Home" method="get">

    <input type="hidden" id="pageid" name="pageId" value="@ViewBag.PageId.ToString()" />
    <div class="row">
        <div class="col-md-12">
            <div class="col-md-4 col-sm-4 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>
                            محل تبلیغات
                        </h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="bs-example" data-example-id="simple-jumbotron">
                            <div class="jumbotron">
                                <p>Advertizing</p>
                            </div>
                        </div>
                    </div>
                    <div class="x_content">
                        <div class="bs-example" data-example-id="simple-jumbotron">
                            <div class="jumbotron">
                                <p>Advertizing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-8 col-sm-8 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>
                            آخرین کتاب و مقالات مهندسی
                        </h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <p style="color:darkmagenta">@Model.Item1.Count() عدد مطلب یافت شده</p>

                        <div class="row">
                            @foreach (var item in Model.Item1)
                            {
                                <partial name="_ProductBox" model="@item" />
                            }
                        </div>
                        <!-- PAGER -->
                        <div class="row">
                            <div class="col s12">
                                <br />
                                <div class="row">
                                    <div class="btn-toolbar">
                                        <div class="btn-group">

                                            @for (int i = 1; i <= Model.Item2; i++)
                                            {
                                                <ul class="btn btn-info">
                                                    <li>
                                                        <a onclick="changePage(@i)" href="#">@i</a>
                                                    </li>
                                                </ul>
                                            }

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /PAGER -->
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
            @* --------------------------- *@
        </div>
    </div>
</form>


@section Scripts
    {

    <script type="text/javascript">

        function changeGroup() {
            $("#formFilter").submit();
        }

        function changePage(pageid) {
            $("#pageid").val(pageid);
            $("#formFilter").submit();
        }
    </script>
}

